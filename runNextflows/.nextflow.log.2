Aug-31 10:08:34.640 [main] DEBUG nextflow.cli.Launcher - $> nextflow run /Shares/down/heatshock/analysis_June2022/scripts/Nextflows/Downfile_pipeline/main.nf -profile hg38 --crams '/Shares/down/heatshock/analysis_June2022/outfiles/PRO/Nascentflow_human/mapped/crams/*.sorted.cram' --workdir /scratch/Users/allenma/temp/ --outdir /Shares/down/heatshock/analysis_June2022/outfiles/PRO/BedgraphsandBigwigs_human/ --saveall
Aug-31 10:08:34.798 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 22.04.4
Aug-31 10:08:34.894 [main] DEBUG nextflow.config.ConfigBuilder - Found config base: /Shares/down/heatshock/analysis_June2022/scripts/Nextflows/Downfile_pipeline/nextflow.config
Aug-31 10:08:34.897 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Shares/down/heatshock/analysis_June2022/scripts/Nextflows/Downfile_pipeline/nextflow.config
Aug-31 10:08:34.940 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `hg38`
Aug-31 10:08:36.745 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [equCab3, saCer3, Pfalci, rheMac8, none, mm10, dm6, canFam4, susScr11, ce10, EF2, Ttherm, minimal, hg38, panTro6, EB1, TAIR10, R64_1_1, myoLuc2, rn6, MEv6, criGriChoV2, AGPv4]
Aug-31 10:08:36.788 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=1 by probing script field
Aug-31 10:08:36.823 [main] INFO  nextflow.cli.CmdRun - Launching `/Shares/down/heatshock/analysis_June2022/scripts/Nextflows/Downfile_pipeline/main.nf` [ridiculous_archimedes] DSL1 - revision: da3642ed78
Aug-31 10:08:36.847 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; plugins-dir=/Users/allenma/.nextflow/plugins; core-plugins: nf-amazon@1.7.2,nf-azure@0.13.2,nf-console@1.0.3,nf-ga4gh@1.0.3,nf-google@1.1.4,nf-sqldb@0.4.0,nf-tower@1.4.0
Aug-31 10:08:36.849 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Aug-31 10:08:36.865 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Aug-31 10:08:36.866 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Aug-31 10:08:36.871 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Aug-31 10:08:36.883 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Aug-31 10:08:36.959 [main] DEBUG nextflow.Session - Session uuid: 6acd1c73-891b-4b50-8483-b1589052a07d
Aug-31 10:08:36.959 [main] DEBUG nextflow.Session - Run name: ridiculous_archimedes
Aug-31 10:08:36.960 [main] DEBUG nextflow.Session - Executor pool size: 64
Aug-31 10:08:36.987 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 22.04.4 build 5706
  Created: 19-06-2022 20:51 UTC (14:51 MDT)
  System: Linux 3.10.0-1160.59.1.el7.x86_64
  Runtime: Groovy 3.0.10 on OpenJDK 64-Bit Server VM 1.8.0_292-b10
  Encoding: UTF-8 (UTF-8)
  Process: 40511@fijinode-42 [10.224.32.62]
  CPUs: 64 - Mem: 503.7 GB (155.8 GB) - Swap: 32 GB (13.3 GB)
Aug-31 10:08:37.026 [main] DEBUG nextflow.Session - Work-dir: /scratch/Users/allenma/temp [fhgfs]
Aug-31 10:08:37.052 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Aug-31 10:08:37.067 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Aug-31 10:08:37.164 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Aug-31 10:08:37.185 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 65; maxThreads: 1000
Aug-31 10:08:37.297 [main] DEBUG nextflow.Session - Session start invoked
Aug-31 10:08:37.304 [main] DEBUG nextflow.trace.TraceFileObserver - Flow starting -- trace file: /Shares/down/heatshock/analysis_June2022/outfiles/PRO/BedgraphsandBigwigs_human/pipeline_info/downfile_pipeline_trace.txt
Aug-31 10:08:39.089 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Aug-31 10:08:39.133 [main] INFO  nextflow.Nextflow - ========================================
Downfile Pipeline v1.0"
========================================
Aug-31 10:08:39.141 [main] WARN  nextflow.script.ScriptBinding - Access to undefined parameter `savebam` -- Initialise it to a default value eg. `params.savebam = some_value`
Aug-31 10:08:39.144 [main] WARN  nextflow.script.ScriptBinding - Access to undefined parameter `max_memory` -- Initialise it to a default value eg. `params.max_memory = some_value`
Aug-31 10:08:39.145 [main] WARN  nextflow.script.ScriptBinding - Access to undefined parameter `max_cpus` -- Initialise it to a default value eg. `params.max_cpus = some_value`
Aug-31 10:08:39.147 [main] WARN  nextflow.script.ScriptBinding - Access to undefined parameter `max_time` -- Initialise it to a default value eg. `params.max_time = some_value`
Aug-31 10:08:39.153 [main] INFO  nextflow.Nextflow - Pipeline Name  : Downfile Pipeline
Help Message   : false
Pipeline Version: 1.0
Run Name       : ridiculous_archimedes
CRAMs          : /Shares/down/heatshock/analysis_June2022/outfiles/PRO/Nascentflow_human/mapped/crams/*.sorted.cram
Genome Ref     : /scratch/Shares/dowell/genomes/hg38/hg38.fa
Chromosome sizes: /scratch/Shares/dowell/genomes/hg38/hg38.chrom.sizes
Data Type      : Paired-End
Save bams      : YES
Save bedgraphs : YES
Save tfit bedgraphs: YES
Save vis bigwigs: YES
Save dreg bigwigs: YES
Save tdfs      : YES
Max Memory     : null
Max CPUs       : null
Max Time       : null
Output dir     : /Shares/down/heatshock/analysis_June2022/outfiles/PRO/BedgraphsandBigwigs_human/
Working dir    : /scratch/Users/allenma/temp
Container Engine: null
Current home   : /Users/allenma
Current user   : allenma
Current path   : /Shares/down/heatshock/analysis_June2022/scripts/T21HSscripts/runNextflows
Script dir     : /Shares/down/heatshock/analysis_June2022/scripts/Nextflows/Downfile_pipeline
Config Profile : hg38
Aug-31 10:08:39.173 [main] INFO  nextflow.Nextflow - =======================================================
Aug-31 10:08:39.258 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.258 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.273 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
Aug-31 10:08:39.282 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 100; pollInterval: 5s; dumpInterval: 5m 
Aug-31 10:08:39.288 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
Aug-31 10:08:39.629 [main] INFO  nextflow.script.BaseScript - [Log 1]: Converting CRAM files to BAM files
Aug-31 10:08:39.655 [main] INFO  nextflow.script.BaseScript - [Log 1]: Genome file being used ..... /scratch/Shares/dowell/genomes/hg38/hg38.fa 
Aug-31 10:08:39.656 [main] INFO  nextflow.script.BaseScript - [Log 1]: Cram file directory ........ /Shares/down/heatshock/analysis_June2022/outfiles/PRO/Nascentflow_human/mapped/crams/*.sorted.cram
Aug-31 10:08:39.656 [main] INFO  nextflow.script.BaseScript - [Log 1]: Working directory ... /scratch/Users/allenma/temp/
Aug-31 10:08:39.660 [main] INFO  nextflow.script.BaseScript - [Log 1]: Output directory ... /Shares/down/heatshock/analysis_June2022/outfiles/PRO/BedgraphsandBigwigs_human/
Aug-31 10:08:39.673 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /Shares/down/heatshock/analysis_June2022/outfiles/PRO/Nascentflow_human/mapped/crams/; pattern: *.sorted.cram; options: [:]
Aug-31 10:08:39.717 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.718 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.731 [main] INFO  nextflow.script.BaseScript - [Log 1]: Sorting BAM files
Aug-31 10:08:39.731 [main] INFO  nextflow.script.BaseScript - [Log 1]: Collecting mapstats
Aug-31 10:08:39.747 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.747 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.759 [main] INFO  nextflow.script.BaseScript - [Log 1]: Filtering multimapped reads for Tfit
Aug-31 10:08:39.763 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.763 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.771 [main] INFO  nextflow.script.BaseScript - [Log 2]: Generating FStitch/Tfit bedgraphs
Aug-31 10:08:39.771 [main] INFO  nextflow.script.BaseScript - [Log 2]: Genome information ..... /scratch/Shares/dowell/genomes/hg38/hg38.fa 
Aug-31 10:08:39.772 [main] INFO  nextflow.script.BaseScript - [Log 2]: Chromosome Sizes ....... /scratch/Shares/dowell/genomes/hg38/hg38.chrom.sizes
Aug-31 10:08:39.781 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.781 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.789 [main] INFO  nextflow.script.BaseScript - [Log 2]: Generating normalized bedgraphs
Aug-31 10:08:39.791 [main] INFO  nextflow.script.BaseScript - [Log 2]: Genome information ..... /scratch/Shares/dowell/genomes/hg38/hg38.fa 
Aug-31 10:08:39.791 [main] INFO  nextflow.script.BaseScript - [Log 2]: Chromosome Sizes ....... /scratch/Shares/dowell/genomes/hg38/hg38.chrom.sizes
Aug-31 10:08:39.800 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.800 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.806 [main] INFO  nextflow.script.BaseScript - [Log 3]: Generating normalized bigwig files for visualization
Aug-31 10:08:39.810 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.810 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.816 [main] INFO  nextflow.script.BaseScript - [Log 4]: Generating bigwig files for dREG
Aug-31 10:08:39.822 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.822 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.829 [main] INFO  nextflow.script.BaseScript - Log[5]: Generating TDFs
Aug-31 10:08:39.833 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Aug-31 10:08:39.833 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Aug-31 10:08:39.840 [main] DEBUG nextflow.Session - Workflow process names [dsl1]: cram_to_bam, dreg_prep, samtools, tfit_bedgraphs, get_software_versions, norm_bedgraphs, igvtools, normalized_bigwigs, bam_conversion_tfit
Aug-31 10:08:39.842 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Aug-31 10:08:39.842 [main] DEBUG nextflow.Session - Session await
Aug-31 10:08:39.922 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process get_software_versions > jobId: 8645608; workDir: /scratch/Users/allenma/temp/bd/ce4462a11e01a1fb59bf2a75b2972b
Aug-31 10:08:39.922 [Task submitter] INFO  nextflow.Session - [bd/ce4462] Submitted process > get_software_versions
Aug-31 10:08:39.978 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process cram_to_bam (Ethan37_rep1) > jobId: 8645609; workDir: /scratch/Users/allenma/temp/e2/3d1ccab60cd1148b63737798c11442
Aug-31 10:08:39.978 [Task submitter] INFO  nextflow.Session - [e2/3d1cca] Submitted process > cram_to_bam (Ethan37_rep1)
Aug-31 10:08:40.017 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process cram_to_bam (Eric42_rep2) > jobId: 8645610; workDir: /scratch/Users/allenma/temp/72/05c04d630a92ab2ca2039a146427d7
Aug-31 10:08:40.017 [Task submitter] INFO  nextflow.Session - [72/05c04d] Submitted process > cram_to_bam (Eric42_rep2)
Aug-31 10:08:40.063 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process cram_to_bam (Eric37_rep1) > jobId: 8645611; workDir: /scratch/Users/allenma/temp/92/45c86d4eab034f1b3676b6391b6c27
Aug-31 10:08:40.063 [Task submitter] INFO  nextflow.Session - [92/45c86d] Submitted process > cram_to_bam (Eric37_rep1)
Aug-31 10:08:40.102 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process cram_to_bam (Ethan37_rep2) > jobId: 8645612; workDir: /scratch/Users/allenma/temp/af/1c6086dfb218315755935cf9c177ac
Aug-31 10:08:40.103 [Task submitter] INFO  nextflow.Session - [af/1c6086] Submitted process > cram_to_bam (Ethan37_rep2)
Aug-31 10:08:40.138 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process cram_to_bam (Ethan42_rep2) > jobId: 8645613; workDir: /scratch/Users/allenma/temp/97/747b612004114133eb0b0d3b94fbc0
Aug-31 10:08:40.138 [Task submitter] INFO  nextflow.Session - [97/747b61] Submitted process > cram_to_bam (Ethan42_rep2)
Aug-31 10:08:40.176 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process cram_to_bam (Eric37_rep2) > jobId: 8645614; workDir: /scratch/Users/allenma/temp/ab/37282c9b71faa848171e54ded147a4
Aug-31 10:08:40.176 [Task submitter] INFO  nextflow.Session - [ab/37282c] Submitted process > cram_to_bam (Eric37_rep2)
Aug-31 10:08:40.219 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process cram_to_bam (Eric42_rep1) > jobId: 8645615; workDir: /scratch/Users/allenma/temp/52/951ab6a928452940cd17fcf12852d5
Aug-31 10:08:40.220 [Task submitter] INFO  nextflow.Session - [52/951ab6] Submitted process > cram_to_bam (Eric42_rep1)
Aug-31 10:08:40.259 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process cram_to_bam (Ethan42_rep1) > jobId: 8645616; workDir: /scratch/Users/allenma/temp/52/450ddffd49339489784a4c3e9efa27
Aug-31 10:08:40.259 [Task submitter] INFO  nextflow.Session - [52/450ddf] Submitted process > cram_to_bam (Ethan42_rep1)
Aug-31 10:08:44.317 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645608; id: 1; name: get_software_versions; status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/bd/ce4462a11e01a1fb59bf2a75b2972b started: 1661962124303; exited: 2022-08-31T16:08:41Z; ]
Aug-31 10:08:44.592 [Actor Thread 42] DEBUG nextflow.sort.BigSort - Sort completed -- entries: 1; slices: 1; internal sort time: 0.002 s; external sort time: 0.023 s; total time: 0.025 s
Aug-31 10:08:44.627 [Actor Thread 42] DEBUG nextflow.file.FileCollector - Saved collect-files list to: /tmp/71b8ca366824f9f8bbc8c23e7910116d.collect-file
Aug-31 10:08:44.640 [Actor Thread 42] DEBUG nextflow.file.FileCollector - Deleting file collector temp dir: /tmp/nxf-4167115775567964099
Aug-31 10:09:44.317 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645614; id: 7; name: cram_to_bam (Eric37_rep2); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/ab/37282c9b71faa848171e54ded147a4 started: 1661962124436; exited: 2022-08-31T16:09:43Z; ]
Aug-31 10:09:44.414 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samtools (Eric37_rep2) > jobId: 8645617; workDir: /scratch/Users/allenma/temp/dd/b7a897f71177b922245953c2799be1
Aug-31 10:09:44.415 [Task submitter] INFO  nextflow.Session - [dd/b7a897] Submitted process > samtools (Eric37_rep2)
Aug-31 10:09:49.322 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645610; id: 9; name: cram_to_bam (Eric42_rep2); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/72/05c04d630a92ab2ca2039a146427d7 started: 1661962124399; exited: 2022-08-31T16:09:46Z; ]
Aug-31 10:09:49.342 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645613; id: 4; name: cram_to_bam (Ethan42_rep2); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/97/747b612004114133eb0b0d3b94fbc0 started: 1661962124428; exited: 2022-08-31T16:09:44Z; ]
Aug-31 10:09:49.383 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samtools (Eric42_rep2) > jobId: 8645618; workDir: /scratch/Users/allenma/temp/55/3b482cedbdc5209bad3f51dd96fcf9
Aug-31 10:09:49.383 [Task submitter] INFO  nextflow.Session - [55/3b482c] Submitted process > samtools (Eric42_rep2)
Aug-31 10:09:49.424 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samtools (Ethan42_rep2) > jobId: 8645619; workDir: /scratch/Users/allenma/temp/58/c61bd432f42ca497d8b3f4ebf62e05
Aug-31 10:09:49.424 [Task submitter] INFO  nextflow.Session - [58/c61bd4] Submitted process > samtools (Ethan42_rep2)
Aug-31 10:09:59.310 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645612; id: 2; name: cram_to_bam (Ethan37_rep2); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/af/1c6086dfb218315755935cf9c177ac started: 1661962124419; exited: 2022-08-31T16:09:55Z; ]
Aug-31 10:09:59.373 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samtools (Ethan37_rep2) > jobId: 8645620; workDir: /scratch/Users/allenma/temp/b4/59997809129bfe99505c2527dd28cb
Aug-31 10:09:59.374 [Task submitter] INFO  nextflow.Session - [b4/599978] Submitted process > samtools (Ethan37_rep2)
Aug-31 10:10:04.312 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645616; id: 6; name: cram_to_bam (Ethan42_rep1); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/52/450ddffd49339489784a4c3e9efa27 started: 1661962124460; exited: 2022-08-31T16:10:03Z; ]
Aug-31 10:10:04.379 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samtools (Ethan42_rep1) > jobId: 8645621; workDir: /scratch/Users/allenma/temp/ed/5b04ab3627cff79fe8437516813cc1
Aug-31 10:10:04.379 [Task submitter] INFO  nextflow.Session - [ed/5b04ab] Submitted process > samtools (Ethan42_rep1)
Aug-31 10:10:09.309 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645611; id: 5; name: cram_to_bam (Eric37_rep1); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/92/45c86d4eab034f1b3676b6391b6c27 started: 1661962124409; exited: 2022-08-31T16:10:06Z; ]
Aug-31 10:10:09.322 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645615; id: 3; name: cram_to_bam (Eric42_rep1); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/52/951ab6a928452940cd17fcf12852d5 started: 1661962124448; exited: 2022-08-31T16:10:04Z; ]
Aug-31 10:10:09.365 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samtools (Eric37_rep1) > jobId: 8645622; workDir: /scratch/Users/allenma/temp/78/3a4735d2a588861c19ab2a1b3be4c0
Aug-31 10:10:09.365 [Task submitter] INFO  nextflow.Session - [78/3a4735] Submitted process > samtools (Eric37_rep1)
Aug-31 10:10:09.405 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samtools (Eric42_rep1) > jobId: 8645623; workDir: /scratch/Users/allenma/temp/9d/965a7a200f5c4cea1cb9eb8ce8e1c6
Aug-31 10:10:09.405 [Task submitter] INFO  nextflow.Session - [9d/965a7a] Submitted process > samtools (Eric42_rep1)
Aug-31 10:10:14.305 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645609; id: 8; name: cram_to_bam (Ethan37_rep1); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/e2/3d1ccab60cd1148b63737798c11442 started: 1661962124360; exited: 2022-08-31T16:10:12Z; ]
Aug-31 10:10:14.365 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samtools (Ethan37_rep1) > jobId: 8645624; workDir: /scratch/Users/allenma/temp/28/609029dc80972008a2c873467ff133
Aug-31 10:10:14.366 [Task submitter] INFO  nextflow.Session - [28/609029] Submitted process > samtools (Ethan37_rep1)
Aug-31 10:11:59.315 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645618; id: 11; name: samtools (Eric42_rep2); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/55/3b482cedbdc5209bad3f51dd96fcf9 started: 1661962194312; exited: 2022-08-31T16:11:54Z; ]
Aug-31 10:11:59.363 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=4; maxSize=4; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Aug-31 10:11:59.394 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process bam_conversion_tfit (Eric42_rep2) > jobId: 8645625; workDir: /scratch/Users/allenma/temp/2e/d2969674ee0eed6998918831715ced
Aug-31 10:11:59.394 [Task submitter] INFO  nextflow.Session - [2e/d29696] Submitted process > bam_conversion_tfit (Eric42_rep2)
Aug-31 10:11:59.453 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process norm_bedgraphs (Eric42_rep2) > jobId: 8645626; workDir: /scratch/Users/allenma/temp/67/868707969f0bd6148717d49441f776
Aug-31 10:11:59.453 [Task submitter] INFO  nextflow.Session - [67/868707] Submitted process > norm_bedgraphs (Eric42_rep2)
Aug-31 10:11:59.526 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process dreg_prep (Eric42_rep2) > jobId: 8645627; workDir: /scratch/Users/allenma/temp/ad/b4fff01eff23fe96676c39a0786b1d
Aug-31 10:11:59.526 [Task submitter] INFO  nextflow.Session - [ad/b4fff0] Submitted process > dreg_prep (Eric42_rep2)
Aug-31 10:12:04.311 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645617; id: 10; name: samtools (Eric37_rep2); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/dd/b7a897f71177b922245953c2799be1 started: 1661962189358; exited: 2022-08-31T16:11:59Z; ]
Aug-31 10:12:04.903 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process dreg_prep (Eric37_rep2) > jobId: 8645628; workDir: /scratch/Users/allenma/temp/63/b965de2e8fe726120c4a776e899f4d
Aug-31 10:12:04.903 [Task submitter] INFO  nextflow.Session - [63/b965de] Submitted process > dreg_prep (Eric37_rep2)
Aug-31 10:12:05.070 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process bam_conversion_tfit (Eric37_rep2) > jobId: 8645629; workDir: /scratch/Users/allenma/temp/62/8ba2d8d161ffec2d86b16815f2574c
Aug-31 10:12:05.070 [Task submitter] INFO  nextflow.Session - [62/8ba2d8] Submitted process > bam_conversion_tfit (Eric37_rep2)
Aug-31 10:12:05.464 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process norm_bedgraphs (Eric37_rep2) > jobId: 8645630; workDir: /scratch/Users/allenma/temp/a4/7ee7f718b71ffb6fc806f9ab0f58f2
Aug-31 10:12:05.465 [Task submitter] INFO  nextflow.Session - [a4/7ee7f7] Submitted process > norm_bedgraphs (Eric37_rep2)
Aug-31 10:12:09.312 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645619; id: 12; name: samtools (Ethan42_rep2); status: COMPLETED; exit: 0; error: -; workDir: /scratch/Users/allenma/temp/58/c61bd432f42ca497d8b3f4ebf62e05 started: 1661962194320; exited: 2022-08-31T16:12:06Z; ]
Aug-31 10:12:10.553 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process bam_conversion_tfit (Ethan42_rep2) > jobId: 8645631; workDir: /scratch/Users/allenma/temp/ce/1e53789615ade25d7ffb9fb9c01b94
Aug-31 10:12:10.554 [Task submitter] INFO  nextflow.Session - [ce/1e5378] Submitted process > bam_conversion_tfit (Ethan42_rep2)
Aug-31 10:12:11.239 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process dreg_prep (Ethan42_rep2) > jobId: 8645632; workDir: /scratch/Users/allenma/temp/87/74d65e11ecc2f06247c732f8c4f861
Aug-31 10:12:11.240 [Task submitter] INFO  nextflow.Session - [87/74d65e] Submitted process > dreg_prep (Ethan42_rep2)
Aug-31 10:12:11.592 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process norm_bedgraphs (Ethan42_rep2) > jobId: 8645633; workDir: /scratch/Users/allenma/temp/7b/252d5a63372396b0bb16647b548d72
Aug-31 10:12:11.592 [Task submitter] INFO  nextflow.Session - [7b/252d5a] Submitted process > norm_bedgraphs (Ethan42_rep2)
Aug-31 10:12:54.331 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 8645627; id: 20; name: dreg_prep (Eric42_rep2); status: COMPLETED; exit: 255; error: -; workDir: /scratch/Users/allenma/temp/ad/b4fff01eff23fe96676c39a0786b1d started: 1661962324355; exited: 2022-08-31T16:12:53Z; ]
Aug-31 10:12:54.387 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'dreg_prep (Eric42_rep2)'

Caused by:
  Process `dreg_prep (Eric42_rep2)` terminated with an error exit status (255)

Command executed:

  samtools view -@ 16 -bf 0x2 Eric42_rep2.downfilepipe.sorted.bam | samtools sort -n -@ 16               > Eric42_rep2.dreg.bam
  
  bedtools bamtobed -bedpe -mate1 -i Eric42_rep2.dreg.bam               | awk 'BEGIN{OFS="	"} ($10 == "+") {print $1,$5,$5+1,$7,$8,$10}; ($10 == "-") {print $1,$6-1,$6,$7,$8,$10}'               | sort -k 1,1 -k 2,2n > Eric42_rep2.dreg.sort.bed
  
  bedtools genomecov -bg               -i Eric42_rep2.dreg.sort.bed               -g /scratch/Shares/dowell/genomes/hg38/hg38.chrom.sizes               -strand +               > Eric42_rep2.pos.bedGraph
  
  bedtools genomecov -bg               -i Eric42_rep2.dreg.sort.bed               -g /scratch/Shares/dowell/genomes/hg38/hg38.chrom.sizes               -strand -               > Eric42_rep2.neg.noinv.bedGraph
  
  cat Eric42_rep2.neg.noinv.bedGraph               | awk 'BEGIN{OFS="	"} {print $1,$2,$3,-1*$4}'               > Eric42_rep2.neg.bedGraph
  
  /Shares/down/heatshock/analysis_June2022/scripts/Nextflows/Downfile_pipeline/bin/bedGraphToBigWig Eric42_rep2.pos.bedGraph               /scratch/Shares/dowell/genomes/hg38/hg38.chrom.sizes Eric42_rep2.pos.bw
  
  /Shares/down/heatshock/analysis_June2022/scripts/Nextflows/Downfile_pipeline/bin/bedGraphToBigWig Eric42_rep2.neg.bedGraph               /scratch/Shares/dowell/genomes/hg38/hg38.chrom.sizes Eric42_rep2.neg.bw
  
  cat Eric42_rep2.pos.bedGraph             Eric42_rep2.neg.bedGraph             > Eric42_rep2.unsorted.bedGraph
  
  sortBed             -i Eric42_rep2.unsorted.bedGraph             > Eric42_rep2.bedGraph

Command exit status:
  255

Command output:
  (empty)

Command error:
  Failed to open BAM file Eric42_rep2.dreg.bam
  needLargeMem: trying to allocate 0 bytes (limit: 100000000000)

Work dir:
  /scratch/Users/allenma/temp/ad/b4fff01eff23fe96676c39a0786b1d

Tip: view the complete command output by changing to the process work dir and entering the command `cat .command.out`
Aug-31 10:12:54.397 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `dreg_prep (Eric42_rep2)` terminated with an error exit status (255)
Aug-31 10:12:54.428 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] bam_conversion_tfit
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] tfit_bedgraphs
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] norm_bedgraphs
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] normalized_bigwigs
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] dreg_prep
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] igvtools
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

Aug-31 10:12:54.436 [main] DEBUG nextflow.Session - Session await > all process finished
Aug-31 10:12:54.436 [main] DEBUG nextflow.Session - Session await > all barriers passed
Aug-31 10:12:55.087 [main] INFO  nextflow.Nextflow - Downfile Pipeline Complete
Aug-31 10:12:55.093 [main] WARN  n.processor.TaskPollingMonitor - Killing running tasks (13)
Aug-31 10:12:55.800 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=12; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=13; succeedDuration=4h 27m 54s; failedDuration=13m 20s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=14; peakCpus=179; peakMemory=1.2 TB; ]
Aug-31 10:12:55.801 [main] DEBUG nextflow.trace.TraceFileObserver - Flow completing -- flushing trace file
Aug-31 10:12:55.812 [main] DEBUG nextflow.trace.ReportObserver - Flow completing -- rendering html report
Aug-31 10:12:55.925 [main] DEBUG nextflow.trace.ReportObserver - Execution report summary data:
  [{"cpuUsage":{"mean":124.8,"min":124.8,"q1":124.8,"q2":124.8,"q3":124.8,"max":124.8,"minLabel":"get_software_versions","maxLabel":"get_software_versions","q1Label":"get_software_versions","q2Label":"get_software_versions","q3Label":"get_software_versions"},"process":"get_software_versions","mem":{"mean":1601536,"min":1601536,"q1":1601536,"q2":1601536,"q3":1601536,"max":1601536,"minLabel":"get_software_versions","maxLabel":"get_software_versions","q1Label":"get_software_versions","q2Label":"get_software_versions","q3Label":"get_software_versions"},"memUsage":null,"timeUsage":{"mean":0.01,"min":0.01,"q1":0.01,"q2":0.01,"q3":0.01,"max":0.01,"minLabel":"get_software_versions","maxLabel":"get_software_versions","q1Label":"get_software_versions","q2Label":"get_software_versions","q3Label":"get_software_versions"},"vmem":{"mean":116019200,"min":116019200,"q1":116019200,"q2":116019200,"q3":116019200,"max":116019200,"minLabel":"get_software_versions","maxLabel":"get_software_versions","q1Label":"get_software_versions","q2Label":"get_software_versions","q3Label":"get_software_versions"},"reads":{"mean":17797958,"min":17797958,"q1":17797958,"q2":17797958,"q3":17797958,"max":17797958,"minLabel":"get_software_versions","maxLabel":"get_software_versions","q1Label":"get_software_versions","q2Label":"get_software_versions","q3Label":"get_software_versions"},"cpu":{"mean":124.8,"min":124.8,"q1":124.8,"q2":124.8,"q3":124.8,"max":124.8,"minLabel":"get_software_versions","maxLabel":"get_software_versions","q1Label":"get_software_versions","q2Label":"get_software_versions","q3Label":"get_software_versions"},"time":{"mean":457,"min":457,"q1":457,"q2":457,"q3":457,"max":457,"minLabel":"get_software_versions","maxLabel":"get_software_versions","q1Label":"get_software_versions","q2Label":"get_software_versions","q3Label":"get_software_versions"},"writes":{"mean":1181,"min":1181,"q1":1181,"q2":1181,"q3":1181,"max":1181,"minLabel":"get_software_versions","maxLabel":"get_software_versions","q1Label":"get_software_versions","q2Label":"get_software_versions","q3Label":"get_software_versions"}},{"cpuUsage":{"mean":46.38,"min":39.86,"q1":44.04,"q2":46.6,"q3":50.11,"max":50.71,"minLabel":"cram_to_bam (Eric42_rep2)","maxLabel":"cram_to_bam (Ethan42_rep1)","q1Label":"cram_to_bam (Eric37_rep2)","q2Label":"cram_to_bam (Ethan37_rep2)","q3Label":"cram_to_bam (Ethan37_rep1)"},"process":"cram_to_bam","mem":{"mean":882589696,"min":863866880,"q1":882149376,"q2":883400704,"q3":888429568,"max":889782272,"minLabel":"cram_to_bam (Eric37_rep1)","maxLabel":"cram_to_bam (Ethan42_rep1)","q1Label":"cram_to_bam (Eric42_rep2)","q2Label":"cram_to_bam (Ethan42_rep2)","q3Label":"cram_to_bam (Eric42_rep1)"},"memUsage":{"mean":16.44,"min":16.09,"q1":16.43,"q2":16.45,"q3":16.55,"max":16.57,"minLabel":"cram_to_bam (Eric37_rep1)","maxLabel":"cram_to_bam (Ethan42_rep1)","q1Label":"cram_to_bam (Eric42_rep2)","q2Label":"cram_to_bam (Ethan42_rep2)","q3Label":"cram_to_bam (Eric42_rep1)"},"timeUsage":{"mean":1.41,"min":1.16,"q1":1.21,"q2":1.45,"q3":1.56,"max":1.69,"minLabel":"cram_to_bam (Eric37_rep2)","maxLabel":"cram_to_bam (Ethan37_rep1)","q1Label":"cram_to_bam (Ethan42_rep2)","q2Label":"cram_to_bam (Ethan37_rep2)","q3Label":"cram_to_bam (Eric42_rep1)"},"vmem":{"mean":2077408768,"min":2075480064,"q1":2076893184,"q2":2077003776,"q3":2078527488,"max":2078932992,"minLabel":"cram_to_bam (Eric42_rep1)","maxLabel":"cram_to_bam (Ethan37_rep1)","q1Label":"cram_to_bam (Ethan42_rep2)","q2Label":"cram_to_bam (Ethan37_rep2)","q3Label":"cram_to_bam (Eric37_rep1)"},"reads":{"mean":5381826463,"min":4640104015,"q1":4751563847.25,"q2":5498952797,"q3":5962881075,"max":6023787148,"minLabel":"cram_to_bam (Eric37_rep2)","maxLabel":"cram_to_bam (Ethan37_rep1)","q1Label":"cram_to_bam (Eric42_rep2)","q2Label":"cram_to_bam (Ethan37_rep2)","q3Label":"cram_to_bam (Eric42_rep1)"},"cpu":{"mean":742.15,"min":637.8,"q1":704.58,"q2":745.55,"q3":801.72,"max":811.3,"minLabel":"cram_to_bam (Eric42_rep2)","maxLabel":"cram_to_bam (Ethan42_rep1)","q1Label":"cram_to_bam (Eric37_rep2)","q2Label":"cram_to_bam (Ethan37_rep2)","q3Label":"cram_to_bam (Ethan37_rep1)"},"time":{"mean":76168.63,"min":62592,"q1":65241.25,"q2":78190.5,"q3":84281.25,"max":91220,"minLabel":"cram_to_bam (Eric37_rep2)","maxLabel":"cram_to_bam (Ethan37_rep1)","q1Label":"cram_to_bam (Ethan42_rep2)","q2Label":"cram_to_bam (Ethan37_rep2)","q3Label":"cram_to_bam (Eric42_rep1)"},"writes":{"mean":5428788935.63,"min":3585623342,"q1":3889879217,"q2":5659081424.5,"q3":6856395052.5,"max":7046675612,"minLabel":"cram_to_bam (Eric42_rep2)","maxLabel":"cram_to_bam (Ethan37_rep1)","q1Label":"cram_to_bam (Eric37_rep2)","q2Label":"cram_to_bam (Ethan37_rep2)","q3Label":"cram_to_bam (Eric42_rep1)"}},{"cpuUsage":{"mean":8.16,"min":7.93,"q1":8.05,"q2":8.16,"q3":8.27,"max":8.38,"minLabel":"samtools (Eric42_rep2)","maxLabel":"samtools (Ethan42_rep2)","q1Label":"samtools (Eric42_rep2)","q2Label":"samtools (Eric37_rep2)","q3Label":"samtools (Eric37_rep2)"},"process":"samtools","mem":{"mean":9247402.67,"min":8372224,"q1":8517632,"q2":8663040,"q3":9684992,"max":10706944,"minLabel":"samtools (Eric42_rep2)","maxLabel":"samtools (Ethan42_rep2)","q1Label":"samtools (Eric42_rep2)","q2Label":"samtools (Eric37_rep2)","q3Label":"samtools (Eric37_rep2)"},"memUsage":{"mean":0.01,"min":0.01,"q1":0.01,"q2":0.01,"q3":0.02,"max":0.02,"minLabel":"samtools (Eric42_rep2)","maxLabel":"samtools (Ethan42_rep2)","q1Label":"samtools (Eric42_rep2)","q2Label":"samtools (Eric37_rep2)","q3Label":"samtools (Eric37_rep2)"},"timeUsage":null,"vmem":{"mean":1498112000,"min":1497190400,"q1":1497190400,"q2":1497190400,"q3":1498572800,"max":1499955200,"minLabel":"samtools (Eric42_rep2)","maxLabel":"samtools (Ethan42_rep2)","q1Label":"samtools (Eric42_rep2)","q2Label":"samtools (Eric37_rep2)","q3Label":"samtools (Eric37_rep2)"},"reads":{"mean":7498871038,"min":7171534778,"q1":7299529865,"q2":7427524952,"q3":7662539168,"max":7897553384,"minLabel":"samtools (Eric42_rep2)","maxLabel":"samtools (Ethan42_rep2)","q1Label":"samtools (Eric42_rep2)","q2Label":"samtools (Eric37_rep2)","q3Label":"samtools (Eric37_rep2)"},"cpu":{"mean":130.5,"min":126.9,"q1":128.75,"q2":130.6,"q3":132.3,"max":134,"minLabel":"samtools (Eric42_rep2)","maxLabel":"samtools (Ethan42_rep2)","q1Label":"samtools (Eric42_rep2)","q2Label":"samtools (Eric37_rep2)","q3Label":"samtools (Eric37_rep2)"},"time":{"mean":131744,"min":124434,"q1":129332,"q2":134230,"q3":135399,"max":136568,"minLabel":"samtools (Eric42_rep2)","maxLabel":"samtools (Ethan42_rep2)","q1Label":"samtools (Eric42_rep2)","q2Label":"samtools (Eric37_rep2)","q3Label":"samtools (Eric37_rep2)"},"writes":{"mean":23854.33,"min":23853,"q1":23854,"q2":23855,"q3":23855,"max":23855,"minLabel":"samtools (Eric37_rep2)","maxLabel":"samtools (Ethan42_rep2)","q1Label":"samtools (Eric37_rep2)","q2Label":"samtools (Eric42_rep2)","q3Label":"samtools (Eric42_rep2)"}},{"cpuUsage":null,"process":"dreg_prep","mem":null,"memUsage":null,"timeUsage":null,"vmem":null,"reads":null,"cpu":null,"time":{"mean":49974,"min":49974,"q1":49974,"q2":49974,"q3":49974,"max":49974,"minLabel":"dreg_prep (Eric42_rep2)","maxLabel":"dreg_prep (Eric42_rep2)","q1Label":"dreg_prep (Eric42_rep2)","q2Label":"dreg_prep (Eric42_rep2)","q3Label":"dreg_prep (Eric42_rep2)"},"writes":null},{"cpuUsage":null,"process":"bam_conversion_tfit","mem":null,"memUsage":null,"timeUsage":null,"vmem":null,"reads":null,"cpu":null,"time":null,"writes":null},{"cpuUsage":null,"process":"norm_bedgraphs","mem":null,"memUsage":null,"timeUsage":null,"vmem":null,"reads":null,"cpu":null,"time":null,"writes":null}]
Aug-31 10:12:56.793 [main] DEBUG nextflow.trace.TimelineObserver - Flow completing -- rendering html timeline
Aug-31 10:12:58.309 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Aug-31 10:12:58.327 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
